<div class="detail-grid">
    <div class="detail-label">Hostname:</div>
    <div class="detail-value">{{if .Host.Hostname}}{{.Host.Hostname}}{{else}}<em>Not set</em>{{end}}</div>

    <div class="detail-label">Current Image:</div>
    <div class="detail-value">{{.Host.CurrentImage}}</div>

    <div class="detail-label">Boot Count:</div>
    <div class="detail-value">{{.Host.BootCount}}</div>

    <div class="detail-label">Last Boot:</div>
    <div class="detail-value">{{if .Host.LastBoot}}{{.Host.LastBoot}}{{else}}-{{end}}</div>

    <div class="detail-label">Created:</div>
    <div class="detail-value">{{.Host.Created}}</div>
</div>

<h3 style="color:#00d4ff; margin: 20px 0 10px; font-size: 1em;">Network Interfaces</h3>
{{if .Interfaces}}
<table style="margin-bottom: 15px;">
    <thead>
        <tr>
            <th>Name</th>
            <th>MAC Address</th>
            <th>Hostname</th>
            <th>PXE Boot</th>
        </tr>
    </thead>
    <tbody>
        {{range .Interfaces}}
        <tr>
            <td>{{.Name}}</td>
            <td class="mac">{{.MAC}}</td>
            <td>{{.Hostname}}</td>
            <td>
                <form class="inline-form" hx-post="/api/host/interface?action=update" hx-swap="none" hx-trigger="change">
                    <input type="hidden" name="id" value="{{.ID}}">
                    <input type="hidden" name="name" value="{{.Name}}">
                    <input type="hidden" name="hostname" value="{{.Hostname}}">
                    <input type="checkbox" name="use" {{if .Use}}checked{{end}}>
                </form>
            </td>
        </tr>
        {{end}}
    </tbody>
</table>
{{else}}
<p style="color:#888; font-style:italic;">No interfaces configured. Primary MAC: {{.Host.MAC}}</p>
{{end}}

{{if .AssetData}}
<h3 style="color:#00d4ff; margin: 20px 0 10px; font-size: 1em;">Asset Information</h3>
<div class="detail-grid">
    {{if .AssetData.Manufacturer}}
    <div class="detail-label">Manufacturer:</div>
    <div class="detail-value">{{.AssetData.Manufacturer}}</div>
    {{end}}

    {{if .AssetData.ProductName}}
    <div class="detail-label">Product:</div>
    <div class="detail-value">{{.AssetData.ProductName}}</div>
    {{end}}

    {{if .AssetData.SerialNumber}}
    <div class="detail-label">Serial Number:</div>
    <div class="detail-value">{{.AssetData.SerialNumber}}</div>
    {{end}}

    {{if .AssetData.BIOSVersion}}
    <div class="detail-label">BIOS Version:</div>
    <div class="detail-value">{{.AssetData.BIOSVersion}}</div>
    {{end}}

    {{if .AssetData.TotalMemoryGB}}
    <div class="detail-label">Total Memory:</div>
    <div class="detail-value">{{.AssetData.TotalMemoryGB}} GB</div>
    {{end}}

    {{if .AssetData.CPUModel}}
    <div class="detail-label">CPU:</div>
    <div class="detail-value">{{.AssetData.CPUModel}} ({{.AssetData.CPUCount}} cores)</div>
    {{end}}

    {{if .AssetData.DiskInfo}}
    <div class="detail-label">Disks:</div>
    <div class="detail-value" style="white-space: pre-wrap;">{{.AssetData.DiskInfo}}</div>
    {{end}}

    {{if .AssetData.NetworkInfo}}
    <div class="detail-label">Network:</div>
    <div class="detail-value" style="white-space: pre-wrap;">{{.AssetData.NetworkInfo}}</div>
    {{end}}

    {{if .AssetData.LastUpdated}}
    <div class="detail-label">Last Updated:</div>
    <div class="detail-value">{{.AssetData.LastUpdated}}</div>
    {{end}}
</div>
{{end}}

<div style="margin-top: 20px; display: flex; gap: 10px;">
    <button class="danger" hx-post="/api/host?mac={{.Host.MAC}}&action=delete" hx-swap="none"
            hx-on::after-request="closeModal(); htmx.trigger(document.body, 'hostsUpdated')"
            onclick="return confirm('Delete this host?')">Delete Host</button>
</div>
